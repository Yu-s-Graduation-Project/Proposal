# 开题报告

## 研究背景和意义

浮点运算在计算机系统中十分普遍，编译器也常常要求处理浮点数据类型、编译与浮点相关的算法。而在现实生活中，浮点运算在各类应用中十分常见，但同时浮点运算也带来了一些问题。但浮点数位数有限，保存在内存中的数字通常四舍五入到最接近的可能值，在很多情况下，实际值和浮点近似值之间微小的误差可能会导致非常严重的后果。在高精度的应用中，普通的浮点运算无法满足要求，在某些情况下细小的浮点误差累积会引起问题甚至悲剧，著名的浮点误差导致的错误事件如爱国者导弹未能拦截、奔腾浮点除法错误。

传统的浮点误差分析研究提供了一些动态分析程序并找出大浮点误差错误的算法和工具，能够帮助相关应用行业的软件工程师发现和解决一些浮点误差错误。但这些工具有局限性，大多依赖于动态执行程序，成本相对较高；解决方法相对单一，不能很好满足业界的一些特定浮点相关算法需求或者特定复杂运算。这篇文章提供了进行数值分析的方法和工具，它以LLVM编译器为基础，生成应用程序的改进IR中间码和最终可用的二进制码，将二进制码作为数据集，应用机器学习训练数据并进行应用。它具有一些有实际应用的优点：（1） 它不依赖于复杂的高精度算法和逻辑应用，因而并不需要一些特定和难以获取的复杂计算工具，能够提供一定算力即可，初始即可快速高效地识别常见的库函数大浮点误差；（2）工具具有普适应，高效准确，能够通过训练相关需求应用的特定数据集，而数据集的获取仅需要提供程序源码，工具自动生成对应的模块化IR中间码以及最终的二进制码进行训练。因而能够较为快速准确地识别出存在浮点数误差的源代码并给予测试人员和软件工程师相应的提示。

我承担了改进程序源代码生成的IR中间码以及最终可用的二进制码工作，具体工作包括修改LLVM部分库（如生成IR中间码的工具lli）和部分库（如将中间码转化为二进制码的AsmWriter），并处理疏通了相应部分的逻辑（如if分支，循环等），对不同的目标库函数进行了系列测试和比较，demo使用的例子为平方根差值函数（sqrt(x + 1) - sqrt(x)），并将相应结果作为数据进行了一些机器学习的初步训练，进行效果调整和改善。

## 文献

- https://people.inf.ethz.ch/suz/publications/popl20.pdf
- https://arxiv.org/pdf/1705.10416.pdf
- http://compilers.cs.uni-saarland.de/papers/benz_fp.pdf